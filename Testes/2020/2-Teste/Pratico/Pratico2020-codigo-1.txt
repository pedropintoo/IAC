# ------------------------------------------------------------------
# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------
# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------# ------------------------------------------------------------------
# DEP. ELECTRÓNICA, TELECOMUNICAÇÕES E INFORMÁTICA - Univ. Aveiro
# Teste Prático 2 de IAC - 13 de Junho de 2020
# 

# ------------------------------------------------------------------
# NOTA: Use este ficheiro para responder à questão 1).
# ------------------------------------------------ 
# ------------------- Código C -------------------
# #define SIZE 8
# void main( void ) {
# static int nums[] = { 18, 3, 6, 4, -2, 26, -151, 37 };
# static char* msg = "A soma e: " ;
# int i,val,sum=0;
# 	for( i=0; i< SIZE; i++ ) {
# 		val = nums[i];
# 		if( val >0 ) sum += val;   
# 	}
#       print_str( msg ); 
#       print_int10( sum ); 	             
#       exit();
# }
# -------------------------------------------------
# Registos:
# ----------
# Variável |  Registo(s)
#    i 	   | $t0 
# &nums[i] |  $t1
#   val	   |  $t2
#   sum	   |  $t4
# -------------------	
	.eqv	PRINT_INT10,1	
	.eqv	PRINT_STR,4
	.eqv	EXIT,10	
	.eqv 	SIZE,8	
#	
.data
lista: 	.word 18,3,6,4,-2,26,-151,37
result:	.asciiz "A soma e: "

	.text
	.globl main
main:	li $t0,0 #i=0
	li $t1,0	#val=0
	li $t4,0	#sum=0
for:    bge $t0,SIZE,efor #condiçao do for
	la $t1,lista	#adress nums[i]
	sll $t2,$t0,2	 #
	add $t1,$t1,$t2
	lw $t3,0($t1)
if: 	ble $t3,$0,skip
	add $t4,$t4,$t3
	addi $t0,$t0,1
	j for
skip: 	addi $t0,$t0,1
	j for
efor: 	li $v0,PRINT_STR
	la $a0,result
	move $a1,$t4
	syscall
	li $v0,EXIT
	syscall